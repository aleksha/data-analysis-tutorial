# Weighted average

See: https://en.wikipedia.org/wiki/Weighted_arithmetic_mean

## Example

Here is some datasample (x,sigma_i)-pairs.

```python
ll = [ (0.150,0.020), (0.250,0.090), (0.080,0.050), (0.160,0.050), (0.060,0.100),        (0.360,0.200), (0.180,0.070), (0.190,0.090), (0.300,0.070), (0.211,0.063),        (0.197,0.042), (0.260,0.130), (0.420,0.200), (0.273,0.090), (0.182,0.070),        (0.140,0.040), (0.180,0.035), (0.120,0.070), (0.160,0.045), (0.200,0.064)]
```
Взвешенное средние для нее и стандартное отклонение для этой статистики (0.1672236698976593, 0.011400493692188512)
Все как в статье.


Бутстрап дает такое же средние (разница 0,002)
При этом стандартное отклонение для бутстрапированного среднего на 0,001 отличается от стандартного отклонения выборки (и это хорошо)
Bootstrap of mean (mean and stdev)
0.16921943187872998
0.010516065084065848

Бутстрап дает такое же стандартное отклонение как стандартное отклонение взвешенного среднего (разница 0,0004)
При этом стандартное отклонение для бутстрапированного значения равно 0,0018, что можно рассматривать как ошибку ошибки
Bootstrap of sigma (mean and stdev)
0.011835640821321712
0.0018200962844465303


номер, Выкинутое значение, Взвешенное средние без выкинутого значения, разница в сигмах между выкинутым значением и взвешенным средним без него
0 (0.15, 0.02)  (0.17551383185311265, 0.01387550046930158)  -1.0481433795793387
1 (0.25, 0.09)  (0.16587379476271982, 0.011493074562393207)  0.9272059804834323
2 (0.08, 0.05)  (0.17200697474043347, 0.011708920476062725)  -1.791668048835146
3 (0.16, 0.05)  (0.1676198125415611, 0.011708920476062725)  -0.14838195373060953
4 (0.06, 0.1)  (0.1686356207092756, 0.011475310615434192)  -1.0792733636136254
5 (0.36, 0.2)  (0.16659524341736584, 0.011419060657544753)  0.9654514384257853
6 (0.18, 0.07)  (0.16687554711576902, 0.01155476721800358)  0.18498888133248245
7 (0.19, 0.09)  (0.16685224485825115, 0.011493074562393207)  0.2551254622939361
8 (0.3, 0.07)  (0.1636058496758772, 0.01155476721800358)  1.9224726174353097
9 (0.211, 0.063)  (0.16574161154250175, 0.011591870646220099)  0.7065268464008726
10 (0.197, 0.042)  (0.164855249482557, 0.011845219233691544)  0.7366162995928295
11 (0.26, 0.13)  (0.1665046337901881, 0.011444586539039363)  0.7164242635172658
12 (0.42, 0.2)  (0.16639965099791484, 0.011419060657544753)  1.265940021618519
13 (0.273, 0.09)  (0.1654987222260995, 0.011493074562393207)  1.184836845789406
14 (0.182, 0.07)  (0.1668210521584375, 0.01155476721800358)  0.21394694360086264
15 (0.14, 0.04)  (0.16963062594976483, 0.011893802883653971)  -0.7100415391534388
16 (0.18, 0.035)  (0.1657072205024686, 0.012058101725870348)  0.3860942773103191
17 (0.12, 0.07)  (0.16851039583571495, 0.01155476721800358)  -0.6837529867189316
18 (0.16, 0.045)  (0.16771910800422435, 0.011784964308238756)  -0.16593958163748326
19 (0.2, 0.064)  (0.1661495524164574, 0.011585791375150586)  0.5204540545316757
Вывод: все значения не противоречат оставшейся выборке (все в двух сишмах)

Теперь выкинем два самых точных измерения из выборки:
(0.15, 0.02) и (0.18, 0.035)
Взвешенное средние оставшейся выборки без них будет точнее каждого из них:
(0.17467727547606574, 0.015113946400731992)
